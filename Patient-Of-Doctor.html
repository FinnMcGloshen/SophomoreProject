<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://fonts.googleapis.com/css2?family=Source+Serif+Pro&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="Patient-Of-Doctor.css" />
    <title>Patient Of Doctor</title>
  </head>
  <body>
    <div class="POD-Input-Style">
      <h2>Patient:</h2>
      <input type="text" class="textinput" id="topinput1">
   <br>
      <h2>Current Medicine:</h2>
      <input type="text" class="textinput" id="topinput2">
    </div>
    <br />
    
    <div class="Main-Table">
      <table id="main-table">
        <tbody>
          <tr class="table-title">
            <th class="table-data">Date</th>
            <th class="table-data">Morning Medicine</th>
            <th class="table-data">Afternoon Medicine</th>
            <th class="table-data">Evening Medicine</th>
            <th class="table-data">Comments</th>
          </tr>
          <tr class="table-title">
            <td class="table-data"><input id="1" type="date" class="date" onchange='saveValue(this)'></td>
            <td class="table-data"><input id="2" type="text" class="appts" onkeyup='saveValue(this)'></td>
            <td class="table-data"><input id="3" type="text" class="appts" onkeyup='saveValue(this)'></td>
            <td class="table-data"><input id="4" type="text" class="appts" onkeyup='saveValue(this)'></td>
            <td class="table-data"><input id="5" type="text" class="appts" onkeyup='saveValue(this)'></td>
          </tr>
          <tr class="table-title">
            <td class="table-data"><input id="6" type="date" class="date" onchange='saveValue(this)'></td>
            <td class="table-data"><input id="7" type="text" class="appts" onkeyup='saveValue(this)'></td>
            <td class="table-data"><input id="8" type="text" class="appts" onkeyup='saveValue(this)'></td>
            <td class="table-data"><input id="9" type="text" class="appts" onkeyup='saveValue(this)'></td>
            <td class="table-data"><input id="10" type="text" class="appts" onkeyup='saveValue(this)'></td>
          </tr>
          <tr class="table-title">
            <td class="table-data"><input id="11" type="date" class="date" onchange='saveValue(this)'></td>
            <td class="table-data"><input id="12" type="text" class="appts" onkeyup='saveValue(this)'></td>
            <td class="table-data"><input id="13" type="text" class="appts" onkeyup='saveValue(this)'></td>
            <td class="table-data"><input id="14" type="text" class="appts" onkeyup='saveValue(this)'></td>
            <td class="table-data"><input id="15" type="text" class="appts" onkeyup='saveValue(this)'></td>
          </tr>
          <tr class="table-title">
            <td class="table-data"><input id="16" type="date" class="date" onchange='saveValue(this)'></td>
            <td class="table-data"><input id="17" type="text" class="appts" onkeyup='saveValue(this)'></td>
            <td class="table-data"><input id="18" type="text" class="appts" onkeyup='saveValue(this)'></td>
            <td class="table-data"><input id="19" type="text" class="appts" onkeyup='saveValue(this)'></td>
            <td class="table-data"><input id="20" type="text" class="appts" onkeyup='saveValue(this)'></td>
          </tr>
          <tr class="table-title">
            <td class="table-data"><input id="21" type="date" class="date" onchange='saveValue(this)'></td>
            <td class="table-data"><input id="22" type="text" class="appts" onkeyup='saveValue(this)'></td>
            <td class="table-data"><input id="23" type="text" class="appts" onkeyup='saveValue(this)'></td>
            <td class="table-data"><input id="24" type="text" class="appts" onkeyup='saveValue(this)'></td>
            <td class="table-data"><input id="25" type="text" class="appts" onkeyup='saveValue(this)'></td>
          </tr>
        </tbody>
      </table>
      </div>
      <div class="Welcome-Greeting-2"><h2>Add a New Prescription:</h2></div>
      <div class="POD-Input-Organise">
        <div class="POD-Input-Style">
          <h2>Morning Medicine:</h2>
          <input type="text" class="textinput" id="new1">
        </div>
        <div class="POD-Input-Style">
          <h2>Afternoon Medicine:</h2>
          <input type="text" class="textinput" id="new2">
        </div>
        <div class="POD-Input-Style">
          <h2>Evening Medicine:</h2>
          <input type="text" class="textinput" id="new3">
        </div>
        <div class="POD-Input-Style">
          <h2>Doctor's Comments:</h2>
          <input type="text" class="textinput" id="new4">
        </div>
      </div>
    <div class="POD-Btn-Organise">
      <button class="POD-Btn-1" onclick="newrow()">Okay</button>
      <button class="POD-Btn-2" onclick="cancel()">Cancel</button>
    </div>
    <div class="loader"></div>
    <script>
      window.addEventListener("load", () =>{
    const loader = document.querySelector(".loader");

    loader.classList.add("loader-hidden")

    loader.addEventListener("transitionend", () => {
        document.body.removeChild("loader");
    })
} )

        document.getElementById("1").value = getSavedValue("1");
        document.getElementById("2").value = getSavedValue("2");
        document.getElementById("3").value = getSavedValue("3");
        document.getElementById("4").value = getSavedValue("4");
        document.getElementById("5").value = getSavedValue("5");
        document.getElementById("6").value = getSavedValue("6");
        document.getElementById("7").value = getSavedValue("7");
        document.getElementById("8").value = getSavedValue("8");
        document.getElementById("9").value = getSavedValue("9");
        document.getElementById("10").value = getSavedValue("10");
        document.getElementById("11").value = getSavedValue("11");
        document.getElementById("12").value = getSavedValue("12");    // set the value to this input
        document.getElementById("13").value = getSavedValue("13");
        document.getElementById("14").value = getSavedValue("14");
        document.getElementById("15").value = getSavedValue("15");
        document.getElementById("16").value = getSavedValue("16");
        document.getElementById("17").value = getSavedValue("17"); 
        document.getElementById("18").value = getSavedValue("18"); 
        document.getElementById("19").value = getSavedValue("19"); 
        document.getElementById("20").value = getSavedValue("20");    // set the value to this input
        document.getElementById("21").value = getSavedValue("21"); 
        document.getElementById("22").value = getSavedValue("22"); 
        document.getElementById("23").value = getSavedValue("23"); 
        document.getElementById("24").value = getSavedValue("24");
        document.getElementById("25").value = getSavedValue("25");  
        /* Here you can add more inputs to set value. if it's saved */

        //Save the value function - save it to localStorage as (ID, VALUE)
        function saveValue(e){
            var id = e.id;  // get the sender's id to save it . 
            var val = e.value; // get the value. 
            localStorage.setItem(id, val);// Every time user writing something, the localStorage's value will override . 
        }

        //get the saved value function - return the value of "v" from localStorage. 
        function getSavedValue  (v){
            if (!localStorage.getItem(v)) {
                return "";// You can change this to your defualt value. 
            }
            return localStorage.getItem(v);
        }
        n =  new Date();
        y = n.getFullYear();
        m = n.getMonth() + 1;
        d = n.getDate();
        function newrow(){
          var x = document.getElementById('main-table').insertRow(-1)
          x.className = "table-title"
          var date = x.insertCell(0)
          date.className = "table-data"
          var cell1 = x.insertCell(1)
          cell1.className = "table-data"
          var cell2 = x.insertCell(2)
          cell2.className = "table-data"
          var cell3 = x.insertCell(3)
          cell3.className = "table-data"
          var cell4 = x.insertCell(4)
          cell4.className = "table-data"
          date.innerHTML = m + "/" + d + "/" + y;
          cell1.innerHTML = document.getElementById('new1').value
          cell2.innerHTML = document.getElementById('new2').value
          cell3.innerHTML = document.getElementById('new3').value
          cell4.innerHTML = document.getElementById('new4').value
        }
        function cancel(){
          var y = document.getElementById('main-table')
          y.deleteRow(-1)
        }
    </script>
  </body>
</html>
